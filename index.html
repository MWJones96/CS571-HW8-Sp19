<!DOCTYPE html>
<html>
    <head>
        <title>Homework 8</title>
    </head>
    <body ng-app="hw8" ng-controller="hw8Ctrl" ng-cloak>
        <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
        <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script>
        <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script>
        <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-messages.min.js"></script>
        <script src = "https://cdnjs.cloudflare.com/ajax/libs/angular-filter/0.5.8/angular-filter.js"></script>
        <script src = "https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.js"></script>
        <script src = "https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script src = "https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <script src = "https://cdnjs.cloudflare.com/ajax/libs/angular-svg-round-progressbar/0.4.8/roundProgress.min.js"></script>
        <script src = "https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.14.3/ui-bootstrap-tpls.min.js"></script>

        <link rel = "stylesheet" href = "https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0/angular-material.min.css">
        <link href = "https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel = "stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link href = "styles.css" rel="stylesheet" type="text/css">
        
        <div id="main-form" class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
            <div class="col-lg-10 col-md-11 col-sm-12 col-xs-12" style="margin: auto;">
                <div class="form-group row" style="padding-top: 30px; padding-bottom: 30px; text-align: center;">
                    <h2 style="margin: auto;">Product Search</h2>
                </div>
                <div class="form-group row">
                    <label for="kwd" class="col-sm-3 col-form-label">Keyword<span style="color: red;">*</span></label>
                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                        <input id="kwd" name="kwd" type="text" class="form-control" placeholder="Enter Product Name (eg. iPhone 8)" ng-model="kwd" ng-change="checkEmptyKwd()" ng-class="{badKwd: emptyKwd}">
                        <small ng-show="emptyKwd" id="kwd-error" style="color: red;">Please enter a keyword.</small>
                    </div>
                </div>
                <div class="form-group row">
                    <label for="category" class="col-sm-3 col-form-label">Category</label>
                    <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                        <select id="category" class="form-control">
                            <option value="all">All Categories</option>
                            <option value="550">Art</option>
                            <option value="2984">Baby</option>
                            <option value="267">Books</option>
                            <option value="11450">Clothing, Shoes & Accessories</option>
                            <option value="58058">Computer/Tablets & Networking</option>
                            <option value="26395">Health & Beauty</option>
                            <option value="11233">Music</option>
                            <option value="1249">Video Games & Consoles</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-sm-3">Condition</div>
                    <div class="col-lg-8 col-md-9" style="display: inline;">
                        <input id="new" type="checkbox" style="margin-right: 5px;">
                        <label for="new" style="color: white; margin-right: 10px; vertical-align: middle;">New</label>
                        <input id="used" type="checkbox" style="margin-right: 10px;">
                        <label for="used" style="color: white; margin-right: 10px; vertical-align: middle;">Used</label>
                        <input id="unspec" type="checkbox" style="margin-right: 10px;">
                        <label for="unspec" style="color: white; margin-right: 10px; vertical-align: middle;">Unspecified</label>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">Shipping Options</div>
                    <div class="col-lg-8 col-md-9">
                        <input id="local" type="checkbox" style="margin-right: 5px;">
                        <label for="local" style="color: white; margin-right: 10px; vertical-align: middle;">Local Pickup</label>
                        <input id="free" type="checkbox" style="margin-right: 10px;">
                        <label for="free" style="color: white; margin-right: 10px; vertical-align: middle;">Free Shipping</label>
                    </div>
                </div>
                <div class="form-group row">   
                    <label for="miles" class="col-lg-3 col-md-3 col-sm-12 col-xs-12 col-form-label">Distance (Miles)</label>
                    <div class="col-lg-5 col-md-5 col-sm-12 col-xs-12">
                        <input id="miles" class="form-control" type="number" placeholder="10">
                    </div>
                </div> 
                <fieldset class="form-group">
                    <div class="row">
                        <legend class="col-form-label col-sm-3 pt-0">From<span style="color: red;">*</span></legend>
                        <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                            <input id="here" type="radio" name="loc" ng-click="zipMode=true; emptyZip=false;" checked>
                            <label for="here" style="color: white;">Current Location</label>
                            <br>
                            <input id="zip" type="radio" name="loc" ng-click="zipMode=false">
                            <label for="zip" style="color: white;">Other. Please specify zip code:</label>
                            <div>
                            <md-autocomplete
                                ng-class="{badZip: emptyZip}"
                                ng-disabled="zipMode"
                                md-no-cache="true"
                                md-search-text-change="getZipAutoComplete(searchText); checkEmptyZip()"
                                md-search-text="searchText"
                                md-items="item in suggestedZipCodes"
                                md-item-text="item"
                                >
                                <md-item-template>
                                     <span md-highlight-text="searchText">{{item}}</span>
                                </md-item-template>
                            </md-autocomplete>
                            </div>
                            <small id="zip-error" style="color: red" ng-show="emptyZip">Please enter a zip code</small>
                        </div>
                    </div>
                </fieldset>
                <div class="from-group row">
                    <div class="col-lg-12">
                        <button id="srch" type="button" class="btn btn-light" style="margin-right: 15px;" ng-click="loadProducts()" ng-disabled="(validKwd() && validZip())==false"><i class="material-icons" style="vertical-align: middle;">search</i> Search</button>
                        <button id="clearBtn" type="button" class="btn btn-light" ng-click="clearForm()"><i class="material-icons" style="vertical-align: middle;">clear_all</i> Clear</button>
                    </div>
                </div>
                <br>
            </div>
        </div>
        <br>
        <ul class="nav nav-pills justify-content-center">
            <li id="results-pill" class="nav-item" ng-class="{active: pill=='results'}">
                <a id="results-pill" class="nav-link" ng-click="pill='results'; resetModel();">Results</a>
            </li>
            <li id="wish-list-pill" class="nav-item" ng-class="{active: pill=='wish-list'}" >
                <a class="nav-link" ng-click="pill='wish-list'; resetModel();">Wish List</a>
            </li>
        </ul>
        <br>
        
        <div ng-show="pill=='results'">
            <div ng-show="loading" id="progress-bar" class="progress" style="width: 90%; margin: auto;">
                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width: 50%"></div>
                <br>
            </div>
            
            <div ng-show="searched">
                <div ng-show="searchModel.page=='results'" id="results-div" class="col-lg-9 col-md-9 col-sm-12 col-xs-12">
                    <div class="text-right">
                        <button type="button" class="btn btn-light" ng-disabled="searchModel.selectedItem==-1" ng-class="{disabled: searchModel.selectedItem==-1}" ng-click="searchModel.page='item'">Details ></button>
                    </div>
                    <br>
                    <table class="table table-striped table-dark" ng-show="searchModel.pageJSON.length > 0">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Image</th>
                                <th>Title</th>
                                <th>Price</th>
                                <th>Shipping</th>
                                <th>Zip</th>
                                <th>Seller</th>
                                <th>Wish List</th>
                            </tr>
                        </thead>
                        <tbody id="results-content">
                            <tr ng-class="{selecteditem: searchModel.selectedItem==searchModel.pageNum*10+$index}" ng-repeat="item in searchModel.pageJSON.slice(searchModel.pageNum*10, searchModel.pageNum*10+10) track by $index">
                                <td>{{searchModel.pageNum*10 + $index + 1}}</td>
                                <td ng-if="item.galleryURL"><a href="{{item.galleryURL[0]}}"><img src="{{item.galleryURL[0]}}" alt="N/A" style="width: 100px; height: 100px; object-fit: cover;"></a></td>
                                <td ng-if="!item.galleryURL">
                                    N/A
                                </td>
                                <td><a class="text-primary" ng-click="loadItem(item.itemId, 10*searchModel.pageNum+$index); loadPhotos(item); loadSimilarItems(item);">{{item.title ?item.title[0].substring(0,getIndexLastSpace(item.title[0])) + " ..." : "N/A"}}</a></td> <td>${{item.sellingStatus ? (item.sellingStatus[0].currentPrice[0].__value__ | number: 2) : "N/A" }}</td>
                                <td>{{item.shippingInfo ? (item.shippingInfo[0].shippingServiceCost[0].__value__ == "0.0" ? "Free Shipping" : "$" + (item.shippingInfo[0].shippingServiceCost[0].__value__ | number: 2 )) : "N/A"}}</td>
                                <td>{{item.postalCode ? item.postalCode[0] : "N/A"}}</td>
                                <td>{{item.sellerInfo ? item.sellerInfo[0].sellerUserName[0] : "N/A"}}</td>
                                <td><button type="button" class="btn btn-light"><i ng-click="toggleItem(item)" class="material-icons" style="color: {{local.getItem(item.itemId) == null ? 'black' : 'goldenrod'}};">{{local.getItem(item.itemId) == null ? 'add_shopping_cart' : 'remove_shopping_cart'}}</i></button></td>
                            </tr>
                        </tbody>
                    </table>
                    <ul class="pagination justify-content-center" ng-show="searchModel.pageJSON.length > 0">
                        <li class="page-item" ng-class="{disabled: searchModel.pageNum==0}"><button ng-disabled="searchModel.pageNum==0" ng-click="searchModel.pageNum = searchModel.pageNum-1" class="page-link">&laquo; Previous</button></li>
                        <li class="page-item" ng-class="{active: searchModel.pageNum==$index}" ng-repeat="x in [].constructor(searchModel.numberOfPages) track by $index"><button ng-click="searchModel.pageNum=$index" class="page-link">{{$index+1}}</button></li>
                        <li class="page-item" ng-class="{disabled: searchModel.pageNum==searchModel.numberOfPages-1}"><button ng-disabled="searchModel.pageNum==searchModel.numberOfPages-1" ng-click="searchModel.pageNum=searchModel.pageNum+1" class="page-link">Next &raquo;</button></li>
                    </ul>
                    <div ng-show="searchModel.pageJSON.length == 0">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 alert alert-warning" style="margin: auto;">
                        No records.
                        </div>
                        <br><br>
                    </div>
                </div>
            </div>   
        </div>
        <div ng-show="pill=='wish-list'">
            <div ng-show="searchModel.page=='results'">
                <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12" style="margin: auto">
                    <div class="text-right">
                        <button type="button" class="btn btn-light" disabled>Details ></button>
                    </div>
                    <br>
                    <table class="table table-striped table-dark" ng-show="local.length > 0">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Image</th>
                                <th>Title</th>
                                <th>Price</th>
                                <th>Shipping Option</th>
                                <th>Seller</th>
                                <th>Favorite</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="(k,v) in local track by $index">
                                <td>{{$index + 1}}</td>
                                <td><a href="{{parseJSON(v).data[0]}}"><img src={{parseJSON(v).data[0]}} style="width: 100px; height: 100px; object-fit: cover;"></a></td>
                                <td><a class="text-primary" ng-click="loadItem(item.itemId, $index); loadPhotos(item); loadSimilarItems(item);">{{parseJSON(v).data[1].substring(0,getIndexLastSpace(parseJSON(v).data[1])) + " ..."}}</a></td>
                                <td>${{parseJSON(v).data[2] | number: 2 }}</td>
                                <td>{{parseJSON(v).data[3] == "0.0" ? "Free Shipping" : "$" + (parseJSON(v).data[3] | number: 2 )}}</td>
                                <td>{{parseJSON(v).data[4]}}</td>
                                <td><button type="button" class="btn btn-light"><i ng-click="removeItem(k)" class="material-icons" style="color: goldenrod;">remove_shopping_cart</i></button></td>
                            </tr>
                            <tr><td></td><td></td><td></td><td></td><td></td><td><strong>Shopping Cost</strong></td><td>${{getCostOfStorage()}}</td></tr>
                        </tbody>
                    </table>
                    <div ng-show="local.length == 0">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 alert alert-warning" style="margin: auto;">
                            No records.
                        </div>
                        <br><br>
                    </div>
                </div>
            <div ng-show="searchModel.page=='item'">
                Wish list item table
            </div>
            </div>
        </div>
        
        <div ng-show="searchModel.page=='item'" class="col-lg-8 col-md-8 col-sm-12 col-xs-12" style="margin: auto;">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <h3 id="product-title" style="text-align: center;">{{searchModel.itemJSON.Title}}</h3>
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: left;">
                                <button type="button" class="btn btn-light" ng-click="searchModel.page='results'">&lt; List</button>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align: right;">
                                <a id="fb" href="https://www.facebook.com/dialog/share?app_id=409037563257362&display=popup&href={{searchModel.itemJSON.ViewItemURLForNaturalSearch}}&quote=Buy+{{searchModel.itemJSON.Title}}+at+${{searchModel.itemJSON.CurrentPrice.Value}}+from link below"><img src="http://csci571.com/hw/hw8/Images/facebook.png" style="width: 38px; height: 38px;"></a>
                                <button id="wishListClick" type="button" class="btn btn-light"><i ng-click="toggleItem(searchModel.pageJSON[searchModel.selectedItem])" class="material-icons" style="color: {{local.getItem(searchModel.itemJSON.ItemID) == null ? 'black' : 'goldenrod'}};">{{local.getItem(searchModel.itemJSON.ItemID) == null ? 'add_shopping_cart' : 'remove_shopping_cart'}}</i></button>
                            </div>
                        </div>
                        <ul class="nav nav-tabs justify-content-end">
                            <li class="nav-item" ng-class="{active: searchModel.itemTab==0}">
                                <a a class="nav-link" ng-click="searchModel.itemTab=0">Product</a>
                            </li>
                            <li class="nav-item" ng-class="{active: searchModel.itemTab==1}">
                                <a class="nav-link" ng-click="searchModel.itemTab=1">Photos</a>
                            </li>
                            <li class="nav-item" ng-class="{active: searchModel.itemTab==2}">
                                <a class="nav-link" ng-click="searchModel.itemTab=2">Shipping</a>
                            </li>
                            <li class="nav-item" ng-class="{active: searchModel.itemTab==3}">
                                <a class="nav-link" ng-click="searchModel.itemTab=3">Seller</a>
                            </li>
                            <li class="nav-item" ng-class="{active: searchModel.itemTab==4}">
                                <a class="nav-link" ng-click="searchModel.itemTab=4">Similar <span class="d-none d-md-inline">Items</span></a>
                            </li>
                        </ul>
                        <div ng-show="searchModel.itemTab==0">
                            <table class="table table-striped table-dark">
                                <tbody>
                                    <tr>
                                        <td style="width: 50%;">
                                            Product Image
                                        </td>
                                        <td>
                                            <a class="text-info" data-toggle="modal" data-target="#resultImages">
                                            View Product Images Here
                                            </a>
                                        </td>
                                    </tr>
                                    <tr ng-if="searchModel.itemJSON.Subtitle"><td>Subtitle</td><td>{{searchModel.itemJSON.Subtitle}}</td></tr>
                                    <tr><td>Price</td><td>${{searchModel.itemJSON.CurrentPrice.Value | number: 2}}</td></tr>
                                    <tr><td>Location</td><td>{{searchModel.itemJSON.Location}}</td></tr>
                                    <tr><td>Return Policy (US)</td><td>{{searchModel.itemJSON.ReturnPolicy.ReturnsAccepted=="Returns Accepted" ? "Returns accepted within " + (searchModel.itemJSON.ReturnPolicy.ReturnsWithin | lowercase): "Returns not accepted"}}</td></tr>
                                    <tr ng-repeat="item in searchModel.itemJSON.ItemSpecifics.NameValueList">
                                        <td>{{item.Name}}</td><td>{{item.Value[0]}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div id="product-images" ng-show="searchModel.itemTab==1">
                            <div ng-show="searchModel.photosJSON.length == 0">
                                <br>
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 alert alert-warning" style="margin: auto;">
                                    No photos.
                                </div>
                                <br>
                            </div>
                            
                            <div class="row" ng-show="searchModel.photosJSON.length > 0">
                                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="padding: 0;">
                                    <a ng-repeat="i in [0, 3]" href="{{searchModel.photosJSON[i].link}}"><img src="{{searchModel.photosJSON[i].link}}" style="width: 100%;"></a>
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="padding: 0;">
                                    <a ng-repeat="i in [1, 4, 6]" href="{{searchModel.photosJSON[i].link}}"><img src="{{searchModel.photosJSON[i].link}}" style="width: 100%;"></a>
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="padding: 0;">
                                    <a ng-repeat="i in [2, 5, 7]" href="{{searchModel.photosJSON[i].link}}"><img src="{{searchModel.photosJSON[i].link}}" style="width: 100%;"></a>
                                </div>
                            </div>
                            <br>
                        </div>
                        <div ng-show="searchModel.itemTab==2">
                            <table class="table table-striped table-dark">
                                <tbody>
                                    <tr>
                                        <td style="width: 50%;">Shipping Cost</td><td>{{searchModel.pageJSON[searchModel.selectedItem].shippingInfo[0].shippingServiceCost[0].__value__ == "0.0" ? "Free Shipping" : '$' + (searchModel.pageJSON[searchModel.selectedItem].shippingInfo[0].shippingServiceCost[0].__value__ | number: 2)}}</td>
                                    </tr>
                                    <tr>
                                        <td style="width: 50%">Shipping Locations</td>
                                        <td ng-repeat="item in searchModel.pageJSON[searchModel.selectedItem].shippingInfo[0].shipToLocations">{{item}}</td>
                                    </tr>
                                    <tr>
                                        <td style="width: 50%">Handling Time</td>
                                        <td>{{searchModel.pageJSON[searchModel.selectedItem].shippingInfo[0].handlingTime[0] + (searchModel.pageJSON[searchModel.selectedItem].shippingInfo[0].handlingTime[0] == "1" ? ' day' : ' days')}}</td>
                                    </tr>
                                    <tr>
                                        <td style="width: 50%;">Expedited Shipping</td>
                                        <td><i class="material-icons" style="color: {{searchModel.pageJSON[searchModel.selectedItem].shippingInfo[0].expeditedShipping[0]=='true' ? 'green' : 'red'}}">{{searchModel.pageJSON[searchModel.selectedItem].shippingInfo[0].expeditedShipping[0]=='true' ? "check" : "clear"}}</i></td>
                                    </tr>
                                    <tr>
                                        <td style="width: 50%;">One Day Shipping</td>
                                        <td><i class="material-icons" style="color: {{searchModel.pageJSON[searchModel.selectedItem].shippingInfo[0].oneDayShippingAvailable[0]=='true' ? 'green' : 'red'}}">{{searchModel.pageJSON[searchModel.selectedItem].shippingInfo[0].oneDayShippingAvailable[0]=='true' ? "check" : "clear"}}</i></td>
                                    </tr>
                                    <tr>
                                        <td style="width: 50%;">Returns Accepted</td>
                                        <td><i class="material-icons" style="color: {{searchModel.pageJSON[searchModel.selectedItem].returnsAccepted[0]=='true' ? 'green' : 'red'}}">{{searchModel.pageJSON[searchModel.selectedItem].returnsAccepted[0]=='true' ? "check" : "clear"}}</i></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div ng-show="searchModel.itemTab==3">
                            <table class="table table-striped table-dark">
                                <tbody>
                                    <tr>
                                        <td colspan=2 style="text-align: center;"><h3>{{searchModel.itemJSON.Seller.UserID}}</h3></td>
                                    </tr>
                                    <tr>
                                        <td style="width: 50%;">Feedback Score</td><td>{{searchModel.itemJSON.Seller.FeedbackScore}}</td>
                                    </tr>
                                    <tr>
                                        <td style="width: 50%;">Popularity</td><td><div style="width: 32px; height: 32px; text-align: center;"><round-progress max="100" current="searchModel.itemJSON.Seller.PositiveFeedbackPercent" color="green" radius="15" stroke="2" semi="false" clockwise="false"></round-progress><div style="font-size: 8pt; position: relative; bottom: 23px;">{{searchModel.itemJSON.Seller.PositiveFeedbackPercent}}</div></div></td>
                                    </tr>
                                    <tr ng-if="searchModel.itemJSON.Seller.FeedbackScore >= 10">
                                        <td style="width: 50%;">Feedback Rating Star</td><td><i class="material-icons" style="color: {{(searchModel.itemJSON.Seller.FeedbackScore >= 10000) ? searchModel.itemJSON.Seller.FeedbackRatingStar.substring(0, searchModel.itemJSON.Seller.FeedbackRatingStar.length - 8) : searchModel.itemJSON.Seller.FeedbackRatingStar}}">{{searchModel.itemJSON.Seller.FeedbackScore >= 10000 ? "stars" : "star_border"}}</i></td>
                                    </tr>
                                    <tr>
                                        <td style="width: 50%;">Top Rated</td><td><i class="material-icons" style="color: {{searchModel.itemJSON.Seller.TopRatedSeller==true ? 'green' : 'red'}}">{{searchModel.itemJSON.Seller.TopRatedSeller==true ? "check" : "clear"}}</i></td>
                                    </tr>
                                    <tr ng-if="searchModel.itemJSON.Storefront">
                                        <td style="width: 50%;">Store Name</td><td>{{searchModel.itemJSON.Storefront.StoreName}}</td>
                                    </tr>
                                    <tr ng-if="searchModel.itemJSON.Storefront">
                                        <td style="width: 50%;">Buy Product At</td><td><a class="text-info" href="{{searchModel.itemJSON.Storefront.StoreURL}}">Store</a></td>
                                    </tr>
                                </tbody>
                            </table>  
                        </div>
                        <div ng-show="searchModel.itemTab==4">
                            <div ng-show="searchModel.similarItemsJSON.item.length == 0">
                                <br>
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 alert alert-warning" style="margin: auto;">
                                    No similar items.
                                </div>
                                <br><br>
                            </div>
                            <div ng-show="searchModel.similarItemsJSON.item.length > 0">
                            <div class="row" style="margin: 8px 0 8px 0;">
                                <div class="col-lg-3">
                                    <select id="ordering" class="form-control" style="margin-right: 5px;"><option value="default">Default</option><option value="name">Product Name</option><option value="left">Days Left</option><option value="price">Price</option><option value="cost">Shipping Cost</option></select>
                                    </div>
                                    <div class="col-lg-3">
                                    <select id="ad" class="form-control"><option value="ascending">Ascending</option><option value="descending">Descending</option></select>
                                </div>
                            </div>
                            <div id="similar-items-body">
                                <div class="row" ng-repeat="x in searchModel.similarItemsJSON.item.slice(0, searchModel.similarItemsShown)">
                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                        <a href="{{x.imageURL}}">
                                            <img src="{{x.imageURL}}">
                                        </a>
                                    </div>
                                    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
                                        <a href="{{x.viewItemURL}}" style="color: DeepSkyBlue;"> {{x.title}}</a>
                                        <br>
                                        <span style="color: aquamarine;">Price: ${{x.buyItNowPrice.__value__}}
                                        </span>
                                        <br>
                                        <span style="color: goldenrod;">
                                            Shipping Cost: ${{x.shippingCost.__value__}}
                                        </span>
                                        <br>
                                        <span style="color: white;">
                                            Time left: {{ cutString(x.timeLeft) }}
                                        </span>
                                    </div>
                                </div>

                                <button id="toggleSimilar" type="button" class="btn btn-dark" style="margin: auto; display: block;" ng-show="searchModel.similarItemsJSON.item.length > 5" ng-click="((searchModel.similarItemsShown==5)  ? searchModel.similarItemsShown=20 : searchModel.similarItemsShown=5)">
                                    Show <span>{{(searchModel.similarItemsShown==5) ? 'More' : 'Less'}}</span>
                                </button>
                                <br>
                                
                            </div>
                            </div>
                        </div>
                </div>
            </div>
        
            <div class="modal fade" id="resultImages" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Product Images</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div id="carouselSlides" class="carousel slide" data-interval="false">
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <a href="{{searchModel.itemJSON.PictureURL[0]}}"><img class="d-block w-100" src="{{searchModel.itemJSON.PictureURL[0]}}"></a>
                                    </div>
                                    <div class="carousel-item" ng-repeat="item in searchModel.itemJSON.PictureURL">
                                        <a href="{{item}}"><img class="d-block w-100" src="{{item}}"></a>
                                    </div>
                                </div>
                            </div>
                            <a id="prevImg" class="left carousel-control" href="#carouselSlides" data-slide="prev"><i class="material-icons">chevron_left</i></a><a id="nextImg" class="right carousel-control" href="#carouselSlides" data-slide="next"><i class="material-icons">chevron_right</i></a>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                        </div>
                    </div>
                </div>
        
        <script src="angularApp.js"></script>
    </body>
</html>